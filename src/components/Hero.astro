---
import Services from "../assets/svg/services.svg";
import Obras from "../assets/svg/obras.svg";
import Mantenimiento from "../assets/svg/mantenimiento.svg";
---



<section
  id="hero"
  class="relative h-screen flex items-center justify-center text-center overflow-hidden"
  style="clip-path: polygon(0 0, 100% 0, 100% 66%, 49% 99%, 49% 99%, 0 67%);"
>
  <!--  Fondo din치mico -->
  <div id="hero-bg" class="absolute inset-0 bg-cover bg-center bg-no-repeat transition-all duration-1000"></div>

  <!-- Gradiente oscuro encima -->
  <div class="absolute inset-0 bg-gradient-to-b from-black/50 to-black/90"></div>

  <!-- Contenido -->
  <div class="relative z-10 px-4 sm:px-8 max-w-4xl -mt-30">
    <p class="text-lm text-white uppercase text-gray-300 tracking-widest mb-2">Mar-Otec</p>
    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight" style="text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.8);">
      <span class="text-[#5372F0]">Capacitaci칩n</span> real para Entornos energizados<br/>
    </h1>

    <div class="mt-8">
      <a
        href="#services"
        class="inline-block bg-[#5372F0] hover:bg-[#0A256E] text-white text-lg px-8 py-3 rounded transition"
      >
        Ver Servicios
      </a>
    </div>

    <!-- Slider dots (est치ticos) -->
    <div id="slider-dots" class="flex justify-center mt-6 space-x-2">
      <span data-index="0" class="w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300 cursor-pointer"></span>
      <span data-index="1" class="w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300 cursor-pointer"></span>
      <span data-index="2" class="w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300 cursor-pointer"></span>
    </div>
  </div>
</section>



<script is:inline>
  const images = [
    '/images/hero1.webp',
    '/images/hero2.webp',
    '/images/hero3.webp',
  ];

  let index = 0;
  const bg = document.getElementById('hero-bg');
  const dots = document.querySelectorAll('#slider-dots span');
  let intervalId;

  function setImage(i) {
    index = i;
    bg.style.backgroundImage = `url('${images[index]}')`;
    updateDots(index);
  }

  function updateDots(currentIndex) {
    dots.forEach((dot, i) => {
      if (i === currentIndex) {
        dot.classList.add('bg-[#5372F0]', 'opacity-100');
        dot.classList.remove('bg-white', 'opacity-50');
      } else {
        dot.classList.remove('bg-[#5372F0]', 'opacity-100');
        dot.classList.add('bg-white', 'opacity-50');
      }
    });
  }

  function startSlider() {
    intervalId = setInterval(() => {
      index = (index + 1) % images.length;
      setImage(index);
      console.log("Imagen actual:", index);
    }, 5000);
  }

  // Click handler para los dots
  dots.forEach((dot, i) => {
    dot.addEventListener('click', () => {
      setImage(i);
      clearInterval(intervalId);  // Reinicia el intervalo para evitar superposici칩n
      startSlider();
    });
  });

  // Inicializa
  if (bg && images.length > 0) {
    setImage(0);
    startSlider();
  }
</script>